---
title: Registering Options
description: "Create and manage custom configuration options for your module."
sidebar:
    order: 3
---

import { Aside, Steps } from '@astrojs/starlight/components';

Modules can be extended with **customizable options**, enabling developers to configure settings or adapt features without modifying the moduleâ€™s core code.

Options can be managed either via the **CLI** or the **Administration interface**. For detailed usage, see [Manage Options](/usage/manage-options/).

<Aside title="Informations">
    * All options are stored in the `options` table.
    * Uninstalling a module automatically deletes its options to prevent leftover configuration.
</Aside>

## How to declare your options ?
<br/>
<Steps>
1. ### Implement the Interface
   Your module must implement the [`Epsicube\Support\Contracts\HasOptions`](https://github.com/epsicube/framework/blob/main/packages/Support/Contracts/HasOptions.php) interface.

    ```php
    use Epsicube\Support\Contracts\HasOptions;
    use Epsicube\Support\OptionsDefinition;

    class ExternalApiModule extends ServiceProvider implements HasOptions, Module
    {
        //...
        public function options(): OptionsDefinition
        {
             return OptionsDefinition::make()->add(
                 key: 'api_token',
                 type: 'string',
                 default: fn() => 'XXX-XXXXX-XXX',
             );
        }
    }
    ```

2. ### Understand Configuration Parameters

   | Parameter  | Description                                                                                 |
   | ---------- | ------------------------------------------------------------------------------------------- |
   | `key`      | Unique identifier for the option.                                                           |
   | `type`     | Data type of the option (e.g., `string`, `integer`, `boolean`).                             |
   | `default`  | Default value, or a Closure returning the default value.                                    |

3. ### Use Your options
   The `Options` facade allows you to **retrieve**, **update**, and **delete** options for your module:

   <Aside type="caution">
        Using `Options` during the registration phase can cause lifecycle issues.<br/>
        Avoid using it at this stage.
   </Aside>

   ```php
   use Epsicube\Support\Facades\Options;

   // Retrieve all options for a module
   Options::all('your-module-identifier');

   // Retrieve a specific option
   Options::get('your-module-identifier', 'api_token');

   // Update an option
   Options::set('your-module-identifier', 'api_token', 'new_value');

   // Delete an option to revert to default
   Options::delete('your-module-identifier', 'api_token');
   ```
</Steps>
